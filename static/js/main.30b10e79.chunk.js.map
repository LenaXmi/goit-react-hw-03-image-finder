{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/image-api.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleChange","e","value","currentTarget","setState","toLowerCase","handleSubmit","preventDefault","trim","props","submit","reset","className","s","SearchForm","onSubmit","this","type","SearchButton","SearchInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","imageObj","src","webformatURL","alt","tags","Image","ImageGallery","imageArray","onImgClick","map","arrayEl","onClick","id","LoadMore","fetchMoreImg","Button","API","page","a","url","fetch","then","response","ok","json","Promise","reject","Error","modalRoot","document","querySelector","Modal","handleKeyDown","code","modalClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","imageArr","status","error","showModal","modalImage","modalAlt","handleFormSubmit","onLoadMore","prevState","openModal","largeImageURL","closeModal","prevProps","hits","catch","scroll","scrollToBottom","length","color","height","width","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.30b10e79.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__jYfP_\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__2CgaV\",\"ImageGalleryItem-image\":\"ImageGallery_ImageGalleryItem-image__3lHET\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3C7W1\",\"Modal\":\"Modal_Modal__2aHdR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Image\":\"ImageGalleryItem_Image__ulWQn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__rEFFk\"};","import { Component } from 'react';\nimport { BsSearch } from 'react-icons/bs';\n\nimport s from './Searchbar.module.css';\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleChange = e => {\n    const { value } = e.currentTarget;\n    this.setState({\n      searchQuery: value.toLowerCase(),\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    if (this.state.searchQuery.trim() === '') {\n      return;\n    }\n    this.props.submit(this.state.searchQuery);\n\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchButton}>\n            <span>\n              <BsSearch />\n            </span>\n          </button>\n\n          <input\n            className={s.SearchInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ imageObj }) {\n  return (\n    <img src={imageObj.webformatURL} alt={imageObj.tags} className={s.Image} />\n  );\n}\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nfunction ImageGallery({ imageArray, onImgClick }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {imageArray.map(arrayEl => (\n        <li\n          key={arrayEl.id}\n          className={s.ImageGalleryItem}\n          onClick={() => onImgClick(arrayEl)}\n        >\n          <ImageGalleryItem imageObj={arrayEl} />\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import s from './Button.module.css';\n\nfunction LoadMore({ fetchMoreImg }) {\n  return (\n    <button className={s.Button} onClick={fetchMoreImg} type=\"button\">\n      Load more\n    </button>\n  );\n  //   <button type=\"button\" className=\"\" dataAction=\"load-more\">\n  //     <span className=\"\">Load more</span>\n  //   </button>;\n}\n\nexport default LoadMore;\n","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = 'key=23895189-b5b787f85de520230ba9fbe30';\n\nconst API = async function (searchQuery, page) {\n  const url = `${BASE_URL}?${API_KEY}&q=${searchQuery}&lang=en,ru&image_type=photo&orientation=horizontal&page=${page}&per_page=12`;\n  return await fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`There is no images`));\n  });\n};\nexport default API;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.modalClose();\n    }\n  };\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.modalClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from 'react';\nimport Loader from 'react-loader-spinner';\n// import { ToastContainer, toast } from 'react-toastify';\n// import 'react-toastify/dist/ReactToastify.css';\n// import * as Scroll from 'react-scroll';\nimport { animateScroll as scroll } from 'react-scroll';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport LoadMore from './components/Button';\nimport API from './services/image-api.js';\nimport Modal from './components/Modal';\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    imageArr: [],\n    searchQuery: '',\n    page: 1,\n    status: 'idle',\n    error: null,\n    showModal: false,\n    modalImage: null,\n    modalAlt: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, page } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.setState({ status: 'pending' });\n\n      API(searchQuery, page)\n        .then(response =>\n          this.setState({\n            imageArr: response.hits,\n            page: 1,\n            status: 'resolved',\n          }),\n        )\n        .catch(error => this.setState({ error, status: 'rejected' }));\n    }\n\n    if (prevState.page !== page && page !== 1) {\n      this.setState({ status: 'pending' });\n\n      API(searchQuery, page)\n        .then(\n          response =>\n            this.setState(prevState => ({\n              imageArr: [...prevState.imageArr, ...response.hits],\n            })),\n          this.setState({ status: 'resolved' }),\n        )\n        .catch(error => this.setState({ error, status: 'rejected' }));\n      scroll.scrollToBottom(200);\n    }\n  }\n\n  handleFormSubmit = searchQuery => {\n    this.setState({ imageArr: [], searchQuery, page: 1 });\n  };\n  onLoadMore = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  openModal = arrayEl => {\n    const { largeImageURL, tags } = arrayEl;\n    this.setState({\n      showModal: true,\n      modalImage: largeImageURL,\n      modalAlt: tags,\n    });\n  };\n\n  closeModal = e => {\n    this.setState({\n      showModal: false,\n      modalImage: null,\n      modalAlt: null,\n    });\n  };\n\n  render() {\n    const { imageArr, showModal, modalImage, modalAlt, status, error } =\n      this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar submit={this.handleFormSubmit} />\n\n        {status === 'resolved' && (\n          <>\n            <ImageGallery imageArray={imageArr} onImgClick={this.openModal} />\n            {imageArr.length === 0 && <h1>No images found</h1>}\n            {imageArr.length >= 12 && (\n              <LoadMore fetchMoreImg={this.onLoadMore} />\n            )}\n          </>\n        )}\n\n        {status === 'pending' && (\n          <>\n            <ImageGallery imageArray={imageArr} onImgClick={this.openModal} />\n            <Loader\n              type=\"ThreeDots\"\n              color=\"#3f51b5\"\n              height={70}\n              width={70}\n              // timeout={3000}\n            />\n          </>\n        )}\n\n        {showModal && (\n          <Modal modalClose={this.closeModal}>\n            <img src={modalImage} alt={modalAlt} />\n          </Modal>\n        )}\n        {status === 'rejected' && <div>{error.message}</div>}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__vKe8D\",\"SearchForm\":\"Searchbar_SearchForm__3zZg7\",\"SearchButton\":\"Searchbar_SearchButton__1UBj1\",\"SearchInput\":\"Searchbar_SearchInput__2MBUZ\"};"],"sourceRoot":""}